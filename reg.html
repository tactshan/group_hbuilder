<!DOCTYPE html>
<html class="ui-page-login">
<head>
	<meta charset="utf-8">
	<title></title>
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link rel="stylesheet" href="css/auth.css">
	<script src="js/jquery-3.2.1.min.js"></script>
	
</head>
<body>
	<div class="lowin lowin-blue">
		<div class="lowin-brand">
			<img src="kodinger.jpg" alt="logo">
		</div>
		
			<div class="lowin-box lowin-register">
				<div class="lowin-box-inner">
					<form>
						<p>Let's create your account</p>
						<div class="lowin-group">
							<label>Account</label>
							<input id='account' type="text" autocomplete="current-password" class="lowin-input" placeholder="请输入账号">
						</div>
						<div class="lowin-group">
							<label>Password</label>
							<input id='password' type="password" autocomplete="current-password" class="lowin-input" placeholder="请输入密码">
						</div>
						<div class="lowin-group">
							<label>Password_confirm</label>
							<input id='password_confirm' type="password" autocomplete="current-password" class="lowin-input" placeholder="请确认密码">
						</div>
						<div class="lowin-group">
							<label>Age</label>
							<input id='age' type="age" autocomplete="current-password" class="lowin-input" placeholder="请输入年龄">
						</div>
						<div class="lowin-group">
							<label>Email</label>
					<input id='email' type="email" autocomplete="current-password" class="lowin-input" placeholder="请输入邮箱">
						</div>
						<div class="lowin-group">
							<label>Phone</label>
							<input id='phone' type="phone" autocomplete="current-password" class="lowin-input" placeholder="请输入手机号">
						</div>
						
						<button id='reg' class="lowin-btn" onclick="reg()">
							Sign Up
						</button>

						<div class="text-foot">
							Already have an account? <a href="./login.html" class="login-link">Login</a>
						</div>
					</form>
				</div>
			</div>
		</div>
	
	
		<footer class="lowin-footer">
			Design By <a href="http://fb.me/itskodinger">@itskodinger</a>
		</footer>
	</div>

	<script src="auth.js"></script>
	<script>
		Auth.init({
			login_url: '#login',
			forgot_url: '#forgot'
		});
	</script>
</body>
	
</html>
<script type="text/javascript" charset="utf-8">
		mui.init();	
		function reg(){
			var u_name=$("#account").val()
			var u_pwd=$("#password").val()
			var repwd=$("#password_confirm").val()
			var u_age=$("#age").val()
			var u_email=$("#email").val()
			var u_phone=$("#phone").val()
			var reg=/^[a-z1-9]{3,10}$/
			if(u_name==''){
				alert('账号不能为空');
				return false;
			}else if(!reg.test(u_name)){
				alert('由字母、数字组成，3-10位')
				 return false;
			}
			if(u_pwd==''){
				alert('密码不能为空');
				return false;
			}
			if(repwd==''){
				alert('确认密码不能为空');
				return false;
			}
			if(u_age==''){
				alert('年龄不能为空');
				return false;
			}
			var reg=/^[1-9]{11}$/
			if(u_phone==''){
				alert('手机号不能为空');
				return false;
			}else if(!reg.test(u_phone)){
				alert('手机号为11位');
				return false;
			}
			
			mui.ajax('http://group_shop.tactshan.com/register',{	
				data:{
					u_name:u_name,
					u_pwd:u_pwd,
					repwd:repwd,
					u_age:u_age,
					u_email:u_email,
					u_phone:u_phone
				},
				dataType:'json',//服务器返回json格式数据
				type:'post',//HTTP请求类型
				success:function(data){
					alert(data.msg)
					if(data.code==1){				
						location.href="./login.html"
					}		
				},
				error:function(xhr,type,errorThrown){
					alert("0")
				}				
			});
		}
</script>